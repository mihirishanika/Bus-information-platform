/* Global Theme Tokens - Calm & Trustworthy */
:root {
	--color-primary: #1e40af;
	/* Ocean Blue */
	--color-primary-accent: #14b8a6;
	/* Soft Teal */
	--color-primary-rgb: 30, 64, 175;
	--color-accent-rgb: 20, 184, 166;
	--color-bg-soft: #f0f9ff;
	/* Ice Blue background */
	--gradient-primary: linear-gradient(90deg, var(--color-primary), var(--color-primary-accent));
	--gradient-primary-135: linear-gradient(135deg, var(--color-primary), var(--color-primary-accent));
	--shadow-primary: 0 6px 18px -8px rgba(var(--color-primary-rgb), 0.45);

	/* Calm Theme Tokens (replacing Dark Purple) */
	--ct-bg: #0f172a;
	/* Deep slate background */
	--ct-bg-alt: #1e293b;
	/* Slightly lighter surface */
	--ct-surface: #334155;
	/* Card surface */
	--ct-surface-alt: #475569;
	/* Elevated surface */
	--ct-border: #64748b;
	/* Border line */
	--ct-border-strong: #94a3b8;
	--ct-text: #f8fafc;
	/* Primary text */
	--ct-text-dim: #cbd5e1;
	/* Secondary text */
	--ct-accent: #1e40af;
	/* Ocean Blue accent */
	--ct-accent-rgb: 30, 64, 175;
	--ct-accent-alt: #3b82f6;
	/* Hover accent */
	--ct-accent-soft: rgba(30, 64, 175, 0.12);
	--ct-secondary: #14b8a6;
	/* Soft Teal */
	--ct-secondary-rgb: 20, 184, 166;
	--ct-warm-accent: #d6d3d1;
	/* Warm Beige */
	--ct-gradient-accent: linear-gradient(90deg, #1e40af, #3b82f6, #14b8a6);
	--ct-gradient-header: linear-gradient(90deg, rgba(30, 64, 175, 0.92), rgba(59, 130, 246, 0.88));
	--ct-shadow: 0 4px 18px -6px rgba(15, 23, 42, 0.55), 0 0 0 1px rgba(30, 64, 175, 0.15);
	--ct-focus-ring: 0 0 0 3px rgba(59, 130, 246, 0.4);
	--ct-danger: #ef4444;
	--ct-danger-hover: #dc2626;
	--ct-success: #059669;
	--ct-scroll-thumb: #475569;
	--ct-scroll-track: #1e293b;

	/* New Unified Theme Palette (User Provided) */
	--theme-bg: #E8EBF1;
	/* Soft White Base */
	--theme-primary: #1E3A8A;
	/* Deep Blue */
	--theme-primary-bright: #2563EB;
	/* Bright Blue */
	--theme-secondary: #2563EB;
	/* Using bright blue as secondary accent */
	--theme-card-bg: #FFFFFF;
	/* Pure White */
	--theme-text: #1F2937;
	/* Dark Gray */
	--theme-text-secondary: #6B7280;
	/* Medium Gray */
	--theme-success: #15803D;
	/* Green */
	--theme-error: #B91C1C;
	/* Strong Red */
	--theme-warning: #F59E0B;
	/* Amber */

	/* Derivative tokens mapped to existing naming for compatibility */
	--color-primary: var(--theme-primary);
	--color-primary-accent: var(--theme-primary-bright);
	--color-bg-soft: var(--theme-bg);
	--ct-accent: var(--theme-primary);
	--ct-accent-alt: var(--theme-primary-bright);
	--ct-secondary: var(--theme-secondary);
	--ct-text: var(--theme-text);
	--ct-text-dim: var(--theme-text-secondary);
	--ct-danger: var(--theme-error);
	--ct-danger-hover: #991B1B;
	/* darker shade of error */
	--ct-success: var(--theme-success);
	--ct-border: #CDD2DA;
	/* slightly darker than bg for subtle borders */
	--ct-border-strong: #B4BAC4;
	--ct-gradient-accent: linear-gradient(90deg, var(--theme-primary), var(--theme-primary-bright));
	--ct-gradient-header: linear-gradient(90deg, var(--theme-primary), var(--theme-primary-bright));
	--gradient-primary: linear-gradient(90deg, var(--theme-primary), var(--theme-primary-bright));
	--gradient-primary-135: linear-gradient(135deg, var(--theme-primary), var(--theme-primary-bright));
	--ct-focus-ring: 0 0 0 3px rgba(37, 99, 235, 0.35);
	--ct-shadow: 0 4px 18px -6px rgba(30, 58, 138, 0.25), 0 0 0 1px rgba(30, 58, 138, 0.08);
}

body {
	background: #f0f9ff;
	/* Ice Blue for light mode */
	margin: 0;
	padding: 0;
	min-height: 100vh;
	color: #0f172a;
	/* Deep slate text */
}

/* Global baseline text color override for calm theme usage */
body,
.app-container,
.calm-theme,
.calm-theme * {
	color: var(--ct-text);
}

/* Utility classes */
.text-dim {
	color: var(--ct-text-dim);
}

.accent {
	color: var(--ct-accent);
}

.secondary {
	color: var(--ct-secondary);
}

.surface {
	background: var(--ct-surface);
	color: var(--ct-text);
}

.surface-alt {
	background: var(--ct-surface-alt);
	color: var(--ct-text);
}

.glass-surface {
	background: rgba(248, 250, 252, 0.06);
	backdrop-filter: blur(14px);
	border: 1px solid rgba(248, 250, 252, 0.08);
}

.btn {
	font-family: inherit;
	font-size: 0.8rem;
	padding: 0.55rem 1rem;
	border-radius: 10px;
	border: 1px solid var(--ct-border);
	background: var(--ct-surface-alt);
	color: var(--ct-text);
	cursor: pointer;
	letter-spacing: .5px;
	font-weight: 500;
	transition: .3s background, .3s color, .3s border-color, .3s box-shadow;
}

.btn:hover {
	background: var(--ct-accent);
	border-color: var(--ct-accent);
	color: #fff;
	box-shadow: 0 3px 10px -4px rgba(var(--ct-accent-rgb), 0.6);
}

.btn-primary {
	background: var(--ct-gradient-accent);
	border-color: rgba(30, 64, 175, 0.7);
	color: #fff;
	box-shadow: 0 3px 12px -4px rgba(var(--ct-accent-rgb), 0.7);
}

.btn-primary:hover {
	filter: brightness(1.1);
}

.btn-secondary {
	background: linear-gradient(90deg, var(--ct-secondary), #2dd4bf);
	border-color: rgba(20, 184, 166, 0.7);
	color: #fff;
	box-shadow: 0 3px 12px -4px rgba(var(--ct-secondary-rgb), 0.7);
}

.btn-secondary:hover {
	filter: brightness(1.1);
}

.input {
	background: var(--ct-surface-alt);
	border: 1px solid var(--ct-border);
	color: var(--ct-text);
	padding: 0.6rem 0.75rem;
	border-radius: 8px;
	font-size: 0.75rem;
	width: 100%;
	outline: none;
	transition: border-color .3s, background .3s;
}

.input:focus {
	border-color: var(--ct-accent);
	box-shadow: var(--ct-focus-ring);
}

.link-btn {
	background: none;
	border: none;
	color: var(--ct-accent);
	cursor: pointer;
	font-size: 0.7rem;
	padding: 0;
}

.link-btn:hover {
	text-decoration: underline;
	color: var(--ct-accent-alt);
}

.link-btn-secondary {
	background: none;
	border: none;
	color: var(--ct-secondary);
	cursor: pointer;
	font-size: 0.7rem;
	padding: 0;
}

.link-btn-secondary:hover {
	text-decoration: underline;
	color: #2dd4bf;
}

/* Standard content wrapper under fixed header */
.page-wrapper {
	width: 100%;
	max-width: 1280px;
	margin: 0 auto;
	padding: 0 1.25rem 2.5rem;
	box-sizing: border-box;
}

.page-wide {
	max-width: 1420px;
}

/* Calm theme class (opt-in). Add 'calm-theme' on body or root app container */
.calm-theme {
	--color-primary: var(--ct-accent);
	--color-primary-accent: var(--ct-secondary);
	--color-primary-rgb: var(--ct-accent-rgb);
	--color-accent-rgb: var(--ct-secondary-rgb);
	--gradient-primary: var(--ct-gradient-accent);
	--gradient-primary-135: linear-gradient(135deg, #1e40af, #3b82f6, #14b8a6);
	--shadow-primary: 0 6px 20px -8px rgba(30, 64, 175, 0.55);

	background: radial-gradient(circle at 25% 20%, rgba(30, 64, 175, 0.15), transparent 60%),
		radial-gradient(circle at 80% 65%, rgba(20, 184, 166, 0.12), transparent 65%),
		linear-gradient(135deg, #0f172a, #1e293b 45%, #334155);
	color: var(--ct-text);
}

.calm-theme body,
body.calm-theme {
	background: var(--ct-bg);
}

/* Light mode overrides */
body:not(.calm-theme) {
	background: var(--color-bg-soft);
	color: #0f172a;
}

body:not(.calm-theme) .surface {
	background: #ffffff;
	color: #0f172a;
	border: 1px solid #e2e8f0;
}

body:not(.calm-theme) .surface-alt {
	background: #f8fafc;
	color: #334155;
	border: 1px solid #cbd5e1;
}

body:not(.calm-theme) .btn {
	background: #ffffff;
	color: #334155;
	border-color: #cbd5e1;
}

body:not(.calm-theme) .btn:hover {
	background: var(--color-primary);
	color: #ffffff;
	border-color: var(--color-primary);
}

body:not(.calm-theme) .input {
	background: #ffffff;
	color: #0f172a;
	border-color: #cbd5e1;
}

body:not(.calm-theme) .input:focus {
	border-color: var(--color-primary);
	box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.1);
}

/* Scrollbar styling (WebKit) */
.calm-theme ::-webkit-scrollbar {
	width: 10px;
}

.calm-theme ::-webkit-scrollbar-track {
	background: var(--ct-scroll-track);
}

.calm-theme ::-webkit-scrollbar-thumb {
	background: var(--ct-scroll-thumb);
	border-radius: 6px;
	border: 2px solid var(--ct-scroll-track);
}

.calm-theme ::-webkit-scrollbar-thumb:hover {
	background: #64748b;
}

/* Light mode scrollbar */
:not(.calm-theme) ::-webkit-scrollbar {
	width: 10px;
}

:not(.calm-theme) ::-webkit-scrollbar-track {
	background: #f1f5f9;
}

:not(.calm-theme) ::-webkit-scrollbar-thumb {
	background: #cbd5e1;
	border-radius: 6px;
	border: 2px solid #f1f5f9;
}

:not(.calm-theme) ::-webkit-scrollbar-thumb:hover {
	background: #94a3b8;
}

/* Additional utility classes for the new palette */
.bg-ice-blue {
	background-color: #f0f9ff;
}

.bg-ocean-blue {
	background-color: #1e40af;
}

.bg-soft-teal {
	background-color: #14b8a6;
}

.bg-warm-beige {
	background-color: #d6d3d1;
}

.text-ocean-blue {
	color: #1e40af;
}

.text-soft-teal {
	color: #14b8a6;
}

.text-warm-beige {
	color: #d6d3d1;
}

.border-ocean-blue {
	border-color: #1e40af;
}

.border-soft-teal {
	border-color: #14b8a6;
}

.border-warm-beige {
	border-color: #d6d3d1;
}